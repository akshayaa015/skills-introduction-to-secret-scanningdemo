name: "Custom Secret Scanning"

on:
  push:
    branches:
      - main
  pull_request:
    branches:
      - main

jobs:
  secret-scanning:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v2

      - name: Run custom secret scanning
        uses: github/secret-scanning-action@v1
        with:
          config-file: .github/secret-scanning.yml

custom-patterns:
  - name: "Dummy API Key Pattern"
    id: "dummy-api-key"
    severity: "high"
    languages: ["Python", "Java", "JavaScript"]
    pattern: "(DUMMY-KEY-[A-Z0-9]{10})"
    match-requirements:
      - word-boundary: true
